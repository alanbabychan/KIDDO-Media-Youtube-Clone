{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nexport const useAuth = () => {\n  _s();\n\n  const [user, setUser] = useState(null);\n\n  const updateUser = () => {\n    const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');\n    setUser(currentUser);\n  };\n\n  useEffect(() => {\n    updateUser();\n\n    const handleStorageChange = () => updateUser();\n\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('userChange', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('userChange', handleStorageChange);\n    };\n  }, []);\n  return {\n    user,\n    updateUser\n  };\n};\n\n_s(useAuth, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");","map":{"version":3,"names":["useState","useEffect","useAuth","user","setUser","updateUser","currentUser","JSON","parse","localStorage","getItem","handleStorageChange","window","addEventListener","removeEventListener"],"sources":["D:/KIDDO Media-YT Clone/src/hooks/useAuth.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport const useAuth = () => {\n  const [user, setUser] = useState(null);\n\n  const updateUser = () => {\n    const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');\n    setUser(currentUser);\n  };\n\n  useEffect(() => {\n    updateUser();\n    \n    const handleStorageChange = () => updateUser();\n    window.addEventListener('storage', handleStorageChange);\n    window.addEventListener('userChange', handleStorageChange);\n    \n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n      window.removeEventListener('userChange', handleStorageChange);\n    };\n  }, []);\n\n  return { user, updateUser };\n};"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;EAAA;;EAC3B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,IAAD,CAAhC;;EAEA,MAAMK,UAAU,GAAG,MAAM;IACvB,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,KAAuC,MAAlD,CAApB;IACAN,OAAO,CAACE,WAAD,CAAP;EACD,CAHD;;EAKAL,SAAS,CAAC,MAAM;IACdI,UAAU;;IAEV,MAAMM,mBAAmB,GAAG,MAAMN,UAAU,EAA5C;;IACAO,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCF,mBAAnC;IACAC,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsCF,mBAAtC;IAEA,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCH,mBAAtC;MACAC,MAAM,CAACE,mBAAP,CAA2B,YAA3B,EAAyCH,mBAAzC;IACD,CAHD;EAID,CAXQ,EAWN,EAXM,CAAT;EAaA,OAAO;IAAER,IAAF;IAAQE;EAAR,CAAP;AACD,CAtBM;;GAAMH,O"},"metadata":{},"sourceType":"module"}